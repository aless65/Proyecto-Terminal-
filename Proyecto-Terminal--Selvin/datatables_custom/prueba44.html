<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>


    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.2/jspdf.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/0.4.1/html2canvas.min.js"></script>
    

    



</head>

<body>

    <h1>Reporte con DataTable y jsPDF</h1>
    <table id="my-table" class="display" style="width:100%">
        <thead>
            <tr>
                <th>Nombre</th>
                <th>Apellido</th>
                <th>Correo electrónico</th>
                <th>Teléfono</th>
                <th>País</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>John</td>
                <td>Doe</td>
                <td>john.doe@example.com</td>
                <td>1234567890</td>
                <td>Estados Unidos</td>
            </tr>
            <tr>
                <td>Jane</td>
                <td>Doe</td>
                <td>jane.doe@example.com</td>
                <td>0987654321</td>
                <td>Canadá</td>
            </tr>
        </tbody>

    </table>
    
    
        <button type="button" onclick="convertirDatosParaPDF()"  > PDF</button>
        <button type="button" id="previsualizarPDF"  >Vista previa del documento PDF</button>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <script>
        $(document).ready(function () {
            function convertirDatosParaPDF() {
                var data = [];
                var cabeceras = [];
                $("#tabla thead th").each(function () {
                    cabeceras.push($(this).text());
                });
                $("#tabla tbody tr").each(function () {
                    var fila = [];
                    $(this).find("td").each(function () {
                        fila.push($(this).text());
                    });
                    data.push(fila);
                });
                return { headers: cabeceras, body: data };
            }

            $("#previsualizarPDF").click(function(){
                var doc = new jsPDF();
                var datosPDF = convertirDatosParaPDF();
                doc.text("Título del documento", 10, 10);
                doc.autoTable(datosPDF.headers, datosPDF.body);
                doc.output("dataurlnewwindow");
            });

        });

    </script>

    

</body>

</html>